<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Pac-Man Game</title>
  <style>
    body {
      margin: 0;
      background: black;
      color: white;
      font-family: sans-serif;
      text-align: center;
    }
    h1 {
      margin: 10px 0;
    }
    #game {
      display: grid;
      grid-template-columns: repeat(20, 20px);
      justify-content: center;
      margin: 0 auto;
    }
    .wall {
      background: blue;
    }
    .pac-dot {
      background: black;
    }
    .dot::after {
      content: '';
      display: block;
      width: 5px;
      height: 5px;
      background: white;
      border-radius: 50%;
      margin: 7px auto;
    }
    .pacman {
      background: yellow;
      border-radius: 50%;
    }
  </style>
</head>
<body>
  <h1>Pac-Man Mini</h1>
  <p>Use arrow keys to move</p>
  <div id="game"></div>

  <script>
    const game = document.getElementById('game');
    const width = 20;
    const layout = [
      // 0 = dot, 1 = wall
      1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
      1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
      1,0,1,1,1,0,1,1,1,1,1,1,1,1,0,1,1,1,0,1,
      1,0,1,0,1,0,1,0,0,0,0,0,0,1,0,1,0,1,0,1,
      1,0,1,0,1,0,1,0,1,1,1,1,0,1,0,1,0,1,0,1,
      1,0,1,0,0,0,1,0,1,0,0,1,0,1,0,0,0,1,0,1,
      1,0,1,1,1,0,1,0,1,0,0,1,0,1,0,1,1,1,0,1,
      1,0,0,0,1,0,0,0,1,1,1,1,0,0,0,1,0,0,0,1,
      1,1,1,0,1,1,1,0,0,0,0,0,0,1,1,1,0,1,1,1,
      1,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,1,
      1,0,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,0,1,
      1,0,1,0,1,0,1,1,1,0,1,1,1,0,1,0,1,0,1,1,
      1,0,1,0,1,0,1,0,0,0,0,0,1,0,1,0,1,0,0,1,
      1,0,1,0,1,0,1,1,1,1,1,0,1,0,1,0,1,1,0,1,
      1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,
      1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1
    ];

    const squares = [];

    function createBoard() {
      for (let i = 0; i < layout.length; i++) {
        const square = document.createElement('div');
        game.appendChild(square);
        squares.push(square);

        if (layout[i] === 1) {
          square.classList.add('wall');
        } else {
          square.classList.add('pac-dot', 'dot');
        }
      }
    }

    createBoard();

    let pacmanCurrentIndex = 21;
    squares[pacmanCurrentIndex].classList.add('pacman');

    function movePacman(e) {
      squares[pacmanCurrentIndex].classList.remove('pacman');

      switch(e.key) {
        case 'ArrowUp':
          if (
            pacmanCurrentIndex - width >= 0 &&
            !squares[pacmanCurrentIndex - width].classList.contains('wall')
          ) pacmanCurrentIndex -= width;
          break;
        case 'ArrowDown':
          if (
            pacmanCurrentIndex + width < width * width &&
            !squares[pacmanCurrentIndex + width].classList.contains('wall')
          ) pacmanCurrentIndex += width;
          break;
        case 'ArrowLeft':
          if (
            pacmanCurrentIndex % width !== 0 &&
            !squares[pacmanCurrentIndex - 1].classList.contains('wall')
          ) pacmanCurrentIndex -= 1;
          break;
        case 'ArrowRight':
          if (
            pacmanCurrentIndex % width < width - 1 &&
            !squares[pacmanCurrentIndex + 1].classList.contains('wall')
          ) pacmanCurrentIndex += 1;
          break;
      }

      squares[pacmanCurrentIndex].classList.add('pacman');

      // eat dot
      if (squares[pacmanCurrentIndex].classList.contains('dot')) {
        squares[pacmanCurrentIndex].classList.remove('dot');
      }
    }

    document.addEventListener('keydown', movePacman);
  </script>
</body>
</html>
